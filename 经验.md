# Element-UI

## 表单校验

1. 定义校验规则
2. 在 el-form 上绑定 rules
3. 在 el-form-item 上使用 prop 属性传入验证规则的名字

## 表单重置

使用 ref 引用表单元素，调用重置方法 resetFields

## 弹框提示

```
import { Message } from 'element-ui'
Vue.prototype.$message = Message
```

# 用户认证

## 登陆

登录成功后，将 token 保存到 sessionStorage 里。

## 导航守卫

在 router 配置文件里，配置路由导航守卫，如果进入的页面网址是非登录页，就检测 token 是否存在，不存在则重定向至登陆页面。

```
router.beforeEach((to, from, next) => {
  if (to.path !== '/login' && window.sessionStorage.getItem(process.env.VUE_APP_TOKEN_STORE) === null) {
    return next('/login')
  } else {
    return next()
  }
})
```

## 登出

清空 token，跳转到登录页面。

## 携带认证信息

# Axios 

使用 .env.development 定义环境变量，设置 baseURL

axios 发起请求时要使用相对路径，baseURL 才会生效。如果使用绝对路径，就会忽略 baseURL。